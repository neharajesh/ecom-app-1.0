{"ast":null,"code":"var _jsxFileName = \"D:\\\\programming\\\\neogcamp\\\\LevelOne\\\\ecommerce-app\\\\src\\\\Products\\\\Products.js\",\n    _s = $RefreshSig$();\n\nimport { useCart } from \"../context/cart-context\";\nimport { useReducer } from \"react\";\nimport { useWishlist } from \"../context/wishlist-context\";\nimport { Link } from \"react-router-dom\";\nimport { showNotification } from \"../Utilities/toast\";\nimport { useProduct } from \"../context/product-context\";\nimport { updateCart } from \"../Utilities/cart-utilities\";\nimport \"./products.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const Products = () => {\n  _s();\n\n  const {\n    productList\n  } = useProduct();\n  const {\n    setCartCount,\n    setCartPrice,\n    itemsInCart,\n    setItemsInCart\n  } = useCart();\n  const {\n    setItemsInWishlist\n  } = useWishlist();\n  const initialData = {\n    inStockOnly: true,\n    fastDeliveryOnly: false,\n    sortByPrice: null,\n    sortByRating: 0\n  };\n\n  const reducerFunction = (state, action) => {\n    switch (action.type) {\n      case \"TOGGLE_STOCK\":\n        return state = { ...state,\n          inStockOnly: !state.inStockOnly\n        };\n\n      case \"TOGGLE_DELIVERY\":\n        return state = { ...state,\n          fastDeliveryOnly: !state.fastDeliveryOnly\n        };\n\n      case \"SORT_BY_PRICE\":\n        return state = { ...state,\n          sortByPrice: action.payload\n        };\n\n      case \"SORT_BY_RATING\":\n        return state = { ...state,\n          sortByRating: action.payload\n        };\n\n      case \"INITIAL_DATA\":\n        return initialData;\n\n      default:\n        return state;\n    }\n  };\n\n  const [{\n    inStockOnly,\n    fastDeliveryOnly,\n    sortByPrice,\n    sortByRating\n  }, dispatch] = useReducer(reducerFunction, initialData);\n\n  const getPriceSortedData = (existingProductList, sortByPrice) => {\n    if (sortByPrice && sortByPrice === \"PRICE_HIGH_TO_LOW\") {\n      return existingProductList.sort((a, b) => b[\"price\"] - a[\"price\"]);\n    }\n\n    if (sortByPrice && sortByPrice === \"PRICE_LOW_TO_HIGH\") {\n      return existingProductList.sort((a, b) => a[\"price\"] - b[\"price\"]);\n    }\n\n    return existingProductList;\n  };\n\n  const getRatingSortedData = (existingProductList, sortByRating) => {\n    if (sortByRating === 0) {\n      return existingProductList;\n    }\n\n    let ratingNumber = sortByRating;\n    const sortedProductList = existingProductList.filter(item => item.rating === ratingNumber);\n    return sortedProductList;\n  };\n\n  const getFilteredData = (existingProductList, fastDeliveryOnly, inStockOnly) => {\n    const sortedProductList = existingProductList.filter(item => fastDeliveryOnly ? item.fastDelivery : true).filter(item => inStockOnly ? true : item.inStock);\n    return sortedProductList;\n  };\n\n  const priceSortedData = getPriceSortedData(productList, sortByPrice);\n  const ratingSortedData = getRatingSortedData(priceSortedData, sortByRating);\n  const filteredData = getFilteredData(ratingSortedData, fastDeliveryOnly, inStockOnly);\n\n  const addToCartHandler = (existingProductList, itemsInCart, productId) => {\n    showNotification(\"Added to Cart\");\n    const updatedCartList = updateCart(existingProductList, itemsInCart, productId, \"ADD\");\n    const currentProduct = existingProductList.find(item => item._id === productId);\n    const currentProductPrice = parseFloat(currentProduct.price);\n    setCartCount(count => count + 1);\n    setCartPrice(price => price + currentProductPrice);\n    setItemsInCart(updatedCartList);\n  };\n\n  const addToWishlistHandler = (existingProductList, productId) => {\n    showNotification(\"Added to Wishlist\");\n    const currentItem = productList.find(item => item._id === productId);\n    setItemsInWishlist(items => [...items, currentItem]);\n  };\n\n  const addRatingStars = rating => {\n    let starString = \"\";\n\n    for (let i = 0; i < rating; i++) {\n      starString += \"⭐\";\n    }\n\n    return starString;\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"product-sort\",\n      children: [/*#__PURE__*/_jsxDEV(\"fieldset\", {\n        children: [/*#__PURE__*/_jsxDEV(\"legend\", {\n          children: \"Sort By :\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"checkbox\",\n            checked: inStockOnly,\n            onChange: () => dispatch({\n              type: \"TOGGLE_STOCK\"\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 13\n          }, this), \"Show Out of Stock\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"checkbox\",\n            checked: fastDeliveryOnly,\n            onChange: () => dispatch({\n              type: \"TOGGLE_DELIVERY\"\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 13\n          }, this), \"Show Fast Delivery Only\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"fieldset\", {\n        children: [/*#__PURE__*/_jsxDEV(\"legend\", {\n          children: \"Price :\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"radio\",\n            onChange: () => dispatch({\n              type: \"SORT_BY_PRICE\",\n              payload: \"PRICE_LOW_TO_HIGH\"\n            }),\n            checked: sortByPrice && sortByPrice === \"PRICE_LOW_TO_HIGH\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 13\n          }, this), \"Low to High\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"radio\",\n            onChange: () => dispatch({\n              type: \"SORT_BY_PRICE\",\n              payload: \"PRICE_HIGH_TO_LOW\"\n            }),\n            checked: sortByPrice && sortByPrice === \"PRICE_HIGH_TO_LOW\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 13\n          }, this), \"High To Low\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"fieldset\", {\n        children: [/*#__PURE__*/_jsxDEV(\"legend\", {\n          children: \"Rating :\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"radio\",\n            onChange: () => dispatch({\n              type: \"SORT_BY_RATING\",\n              payload: 1\n            }),\n            checked: sortByRating && sortByRating === 1\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 13\n          }, this), \"\\u2B50\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 11\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"radio\",\n            onChange: () => dispatch({\n              type: \"SORT_BY_RATING\",\n              payload: 2\n            }),\n            checked: sortByRating && sortByRating === 2\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 13\n          }, this), \"\\u2B50\\u2B50\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 11\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"radio\",\n            onChange: () => dispatch({\n              type: \"SORT_BY_RATING\",\n              payload: 3\n            }),\n            checked: sortByRating && sortByRating === 3\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 13\n          }, this), \"\\u2B50\\u2B50\\u2B50\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 11\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"radio\",\n            onChange: () => dispatch({\n              type: \"SORT_BY_RATING\",\n              payload: 4\n            }),\n            checked: sortByRating && sortByRating === 4\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 214,\n            columnNumber: 13\n          }, this), \"\\u2B50\\u2B50\\u2B50\\u2B50\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 11\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"radio\",\n            onChange: () => dispatch({\n              type: \"SORT_BY_RATING\",\n              payload: 5\n            }),\n            checked: sortByRating && sortByRating === 5\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 223,\n            columnNumber: 13\n          }, this), \"\\u2B50\\u2B50\\u2B50\\u2B50\\u2B50\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 11\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        id: \"filter-reset-button\",\n        className: \"button-primary\",\n        onClick: () => dispatch({\n          type: \"INITIAL_DATA\"\n        }),\n        children: \"Reset Filters\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"product-container\",\n      children: [filteredData.map(({\n        _id,\n        name,\n        image,\n        price,\n        rating,\n        inStock,\n        fastDelivery\n      }) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"product-item\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: image,\n          alt: name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"product-details\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            id: \"product-details-name\",\n            children: name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            id: \"product-details-price\",\n            children: [\"Rs. \", price]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 249,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            id: \"product-details-rating\",\n            children: addRatingStars(rating)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 250,\n            columnNumber: 17\n          }, this), inStock && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"card-badge\",\n            children: \"In Stock\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 29\n          }, this), fastDelivery && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"card-badge delivery-badge\",\n            children: \"fast delivery\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 253,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            id: \"product-details-button-container\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"button-add button-primary\",\n              onClick: () => addToCartHandler(filteredData, itemsInCart, _id),\n              children: \"Add to Cart\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 258,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              id: \"button-wishlist\",\n              className: \"button-add button-secondary\",\n              onClick: () => addToWishlistHandler(filteredData, _id),\n              children: \"Add to Wishlist\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 266,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 257,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 274,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            to: `/products/${_id}`,\n            children: \"View Details\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 275,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 15\n        }, this)]\n      }, _id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 13\n      }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"notification-container\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 280,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(Products, \"j4274WSulc2nsI7hUaeeeRU4wUw=\", false, function () {\n  return [useProduct, useCart, useWishlist];\n});\n\n_c = Products;\n\nvar _c;\n\n$RefreshReg$(_c, \"Products\");","map":{"version":3,"sources":["D:/programming/neogcamp/LevelOne/ecommerce-app/src/Products/Products.js"],"names":["useCart","useReducer","useWishlist","Link","showNotification","useProduct","updateCart","Products","productList","setCartCount","setCartPrice","itemsInCart","setItemsInCart","setItemsInWishlist","initialData","inStockOnly","fastDeliveryOnly","sortByPrice","sortByRating","reducerFunction","state","action","type","payload","dispatch","getPriceSortedData","existingProductList","sort","a","b","getRatingSortedData","ratingNumber","sortedProductList","filter","item","rating","getFilteredData","fastDelivery","inStock","priceSortedData","ratingSortedData","filteredData","addToCartHandler","productId","updatedCartList","currentProduct","find","_id","currentProductPrice","parseFloat","price","count","addToWishlistHandler","currentItem","items","addRatingStars","starString","i","map","name","image"],"mappings":"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","sourcesContent":["import { useCart } from \"../context/cart-context\";\r\nimport { useReducer } from \"react\";\r\nimport { useWishlist } from \"../context/wishlist-context\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { showNotification } from \"../Utilities/toast\";\r\nimport { useProduct } from \"../context/product-context\";\r\nimport { updateCart } from \"../Utilities/cart-utilities\";\r\nimport \"./products.css\";\r\n\r\nexport const Products = () => {\r\n  const { productList } = useProduct();\r\n  const { setCartCount, setCartPrice, itemsInCart, setItemsInCart } = useCart();\r\n  const { setItemsInWishlist } = useWishlist();\r\n\r\n  const initialData = {\r\n    inStockOnly: true,\r\n    fastDeliveryOnly: false,\r\n    sortByPrice: null,\r\n    sortByRating: 0,\r\n  };\r\n\r\n  const reducerFunction = (state, action) => {\r\n    switch (action.type) {\r\n      case \"TOGGLE_STOCK\":\r\n        return (state = {\r\n          ...state,\r\n          inStockOnly: !state.inStockOnly,\r\n        });\r\n      case \"TOGGLE_DELIVERY\":\r\n        return (state = {\r\n          ...state,\r\n          fastDeliveryOnly: !state.fastDeliveryOnly,\r\n        });\r\n      case \"SORT_BY_PRICE\":\r\n        return (state = {\r\n          ...state,\r\n          sortByPrice: action.payload,\r\n        });\r\n      case \"SORT_BY_RATING\":\r\n        return (state = {\r\n          ...state,\r\n          sortByRating: action.payload,\r\n        });\r\n      case \"INITIAL_DATA\":\r\n        return initialData;\r\n      default:\r\n        return state;\r\n    }\r\n  };\r\n\r\n  const [\r\n    { inStockOnly, fastDeliveryOnly, sortByPrice, sortByRating },\r\n    dispatch,\r\n  ] = useReducer(reducerFunction, initialData);\r\n\r\n  const getPriceSortedData = (existingProductList, sortByPrice) => {\r\n    if (sortByPrice && sortByPrice === \"PRICE_HIGH_TO_LOW\") {\r\n      return existingProductList.sort((a, b) => b[\"price\"] - a[\"price\"]);\r\n    }\r\n    if (sortByPrice && sortByPrice === \"PRICE_LOW_TO_HIGH\") {\r\n      return existingProductList.sort((a, b) => a[\"price\"] - b[\"price\"]);\r\n    }\r\n    return existingProductList;\r\n  };\r\n\r\n  const getRatingSortedData = (existingProductList, sortByRating) => {\r\n    if (sortByRating === 0) {\r\n      return existingProductList;\r\n    }\r\n    let ratingNumber = sortByRating;\r\n    const sortedProductList = existingProductList.filter(\r\n      (item) => item.rating === ratingNumber\r\n    );\r\n    return sortedProductList;\r\n  };\r\n\r\n  const getFilteredData = (\r\n    existingProductList,\r\n    fastDeliveryOnly,\r\n    inStockOnly\r\n  ) => {\r\n    const sortedProductList = existingProductList\r\n      .filter((item) => (fastDeliveryOnly ? item.fastDelivery : true))\r\n      .filter((item) => (inStockOnly ? true : item.inStock));\r\n    return sortedProductList;\r\n  };\r\n\r\n  const priceSortedData = getPriceSortedData(productList, sortByPrice);\r\n  const ratingSortedData = getRatingSortedData(priceSortedData, sortByRating);\r\n  const filteredData = getFilteredData(\r\n    ratingSortedData,\r\n    fastDeliveryOnly,\r\n    inStockOnly\r\n  );\r\n\r\n  const addToCartHandler = (existingProductList, itemsInCart, productId) => {\r\n    showNotification(\"Added to Cart\");\r\n\r\n    const updatedCartList = updateCart(\r\n      existingProductList,\r\n      itemsInCart,\r\n      productId,\r\n      \"ADD\"\r\n    );\r\n\r\n    const currentProduct = existingProductList.find(\r\n      (item) => item._id === productId\r\n    );\r\n    const currentProductPrice = parseFloat(currentProduct.price);\r\n    setCartCount((count) => count + 1);\r\n    setCartPrice((price) => price + currentProductPrice);\r\n    setItemsInCart(updatedCartList);\r\n  };\r\n\r\n  const addToWishlistHandler = (existingProductList, productId) => {\r\n    showNotification(\"Added to Wishlist\");\r\n    const currentItem = productList.find((item) => item._id === productId);\r\n    setItemsInWishlist((items) => [...items, currentItem]);\r\n  };\r\n\r\n  const addRatingStars = (rating) => {\r\n    let starString = \"\";\r\n    for (let i = 0; i < rating; i++) {\r\n      starString += \"⭐\";\r\n    }\r\n    return starString;\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"product-sort\">\r\n        <fieldset>\r\n          <legend>Sort By :</legend>\r\n          <label>\r\n            <input\r\n              type=\"checkbox\"\r\n              checked={inStockOnly}\r\n              onChange={() => dispatch({ type: \"TOGGLE_STOCK\" })}\r\n            />\r\n            Show Out of Stock\r\n          </label>\r\n          <br />\r\n          <label>\r\n            <input\r\n              type=\"checkbox\"\r\n              checked={fastDeliveryOnly}\r\n              onChange={() => dispatch({ type: \"TOGGLE_DELIVERY\" })}\r\n            />\r\n            Show Fast Delivery Only\r\n          </label>\r\n        </fieldset>\r\n\r\n        <fieldset>\r\n          <legend>Price :</legend>\r\n          <label>\r\n            <input\r\n              type=\"radio\"\r\n              onChange={() =>\r\n                dispatch({\r\n                  type: \"SORT_BY_PRICE\",\r\n                  payload: \"PRICE_LOW_TO_HIGH\",\r\n                })\r\n              }\r\n              checked={sortByPrice && sortByPrice === \"PRICE_LOW_TO_HIGH\"}\r\n            />\r\n            Low to High\r\n          </label>\r\n          <br />\r\n          <label>\r\n            <input\r\n              type=\"radio\"\r\n              onChange={() =>\r\n                dispatch({\r\n                  type: \"SORT_BY_PRICE\",\r\n                  payload: \"PRICE_HIGH_TO_LOW\",\r\n                })\r\n              }\r\n              checked={sortByPrice && sortByPrice === \"PRICE_HIGH_TO_LOW\"}\r\n            />\r\n            High To Low\r\n          </label>\r\n        </fieldset>\r\n\r\n        <fieldset>\r\n          <legend>Rating :</legend>\r\n          <label>\r\n            <input\r\n              type=\"radio\"\r\n              onChange={() => dispatch({ type: \"SORT_BY_RATING\", payload: 1 })}\r\n              checked={sortByRating && sortByRating === 1}\r\n            />\r\n            ⭐\r\n          </label>{\" \"}\r\n          <br />\r\n          <label>\r\n            <input\r\n              type=\"radio\"\r\n              onChange={() => dispatch({ type: \"SORT_BY_RATING\", payload: 2 })}\r\n              checked={sortByRating && sortByRating === 2}\r\n            />\r\n            ⭐⭐\r\n          </label>{\" \"}\r\n          <br />\r\n          <label>\r\n            <input\r\n              type=\"radio\"\r\n              onChange={() => dispatch({ type: \"SORT_BY_RATING\", payload: 3 })}\r\n              checked={sortByRating && sortByRating === 3}\r\n            />\r\n            ⭐⭐⭐\r\n          </label>{\" \"}\r\n          <br />\r\n          <label>\r\n            <input\r\n              type=\"radio\"\r\n              onChange={() => dispatch({ type: \"SORT_BY_RATING\", payload: 4 })}\r\n              checked={sortByRating && sortByRating === 4}\r\n            />\r\n            ⭐⭐⭐⭐\r\n          </label>{\" \"}\r\n          <br />\r\n          <label>\r\n            <input\r\n              type=\"radio\"\r\n              onChange={() => dispatch({ type: \"SORT_BY_RATING\", payload: 5 })}\r\n              checked={sortByRating && sortByRating === 5}\r\n            />\r\n            ⭐⭐⭐⭐⭐\r\n          </label>{\" \"}\r\n          <br />\r\n        </fieldset>\r\n\r\n        <button\r\n          id=\"filter-reset-button\"\r\n          className=\"button-primary\"\r\n          onClick={() => dispatch({ type: \"INITIAL_DATA\" })}\r\n        >\r\n          Reset Filters\r\n        </button>\r\n      </div>\r\n\r\n      <div className=\"product-container\">\r\n        {filteredData.map(\r\n          ({ _id, name, image, price, rating, inStock, fastDelivery }) => (\r\n            <div key={_id} className=\"product-item\">\r\n              <img src={image} alt={name} />\r\n              <div className=\"product-details\">\r\n                <p id=\"product-details-name\">{name}</p>\r\n                <p id=\"product-details-price\">Rs. {price}</p>\r\n                <p id=\"product-details-rating\">{addRatingStars(rating)}</p>\r\n                {inStock && <span className=\"card-badge\">In Stock</span>}\r\n                {fastDelivery && (\r\n                  <span className=\"card-badge delivery-badge\">\r\n                    fast delivery\r\n                  </span>\r\n                )}\r\n                <div id=\"product-details-button-container\">\r\n                  <button\r\n                    className=\"button-add button-primary\"\r\n                    onClick={() =>\r\n                      addToCartHandler(filteredData, itemsInCart, _id)\r\n                    }\r\n                  >\r\n                    Add to Cart\r\n                  </button>\r\n                  <button\r\n                    id=\"button-wishlist\"\r\n                    className=\"button-add button-secondary\"\r\n                    onClick={() => addToWishlistHandler(filteredData, _id)}\r\n                  >\r\n                    Add to Wishlist\r\n                  </button>\r\n                </div>\r\n                <br />\r\n                <Link to={`/products/${_id}`}>View Details</Link>\r\n              </div>\r\n            </div>\r\n          )\r\n        )}\r\n        <div id=\"notification-container\"></div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n"]},"metadata":{},"sourceType":"module"}
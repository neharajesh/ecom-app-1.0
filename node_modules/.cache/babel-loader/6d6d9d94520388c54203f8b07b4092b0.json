{"ast":null,"code":"import axios from \"axios\";\nconst ROOT_URL = \"http://localhost:5000/auth\";\nexport const loginUser = async (dispatch, loginPayload) => {\n  console.log(loginPayload);\n  const requestOptions = {\n    headers: {\n      \"Access-Control-Allow-Origin\": \"*\"\n    },\n    body: loginPayload\n  };\n\n  try {\n    dispatch({\n      type: \"REQUEST_LOGIN\"\n    });\n    let response = await axios.post(`${ROOT_URL}/signin`, loginPayload, {\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\"\n      }\n    });\n    let data = response.data;\n\n    if (data.user) {\n      dispatch({\n        type: \"LOGIN_SUCCESS\",\n        payload: data\n      });\n      localStorage.setItem(\"currentUser\", JSON.stringify(data));\n      return data;\n    }\n\n    dispatch({\n      type: \"LOGIN_ERROR\",\n      error: data.errors[0]\n    });\n    return;\n  } catch (err) {\n    console.log(\"Error occurred while logging in\");\n  }\n};\nexport const logout = dispatch => {\n  dispatch({\n    type: \"LOGOUT\"\n  });\n  localStorage.removeItem(\"currentUser\");\n  localStorage.removeItem(\"token\");\n};","map":{"version":3,"sources":["D:/programming/neogcamp/LevelOne/ecommerce-app - review 1/src/auth/auth-actions.js"],"names":["axios","ROOT_URL","loginUser","dispatch","loginPayload","console","log","requestOptions","headers","body","type","response","post","Accept","data","user","payload","localStorage","setItem","JSON","stringify","error","errors","err","logout","removeItem"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,MAAMC,QAAQ,GAAG,4BAAjB;AAEA,OAAO,MAAMC,SAAS,GAAG,OAAOC,QAAP,EAAiBC,YAAjB,KAAkC;AACzDC,EAAAA,OAAO,CAACC,GAAR,CAAYF,YAAZ;AACA,QAAMG,cAAc,GAAG;AACrBC,IAAAA,OAAO,EAAE;AACP,qCAA+B;AADxB,KADY;AAIrBC,IAAAA,IAAI,EAAEL;AAJe,GAAvB;;AAOA,MAAI;AACFD,IAAAA,QAAQ,CAAC;AAAEO,MAAAA,IAAI,EAAE;AAAR,KAAD,CAAR;AACA,QAAIC,QAAQ,GAAG,MAAMX,KAAK,CAACY,IAAN,CAAY,GAAEX,QAAS,SAAvB,EAAiCG,YAAjC,EAA+C;AAClEI,MAAAA,OAAO,EAAE;AACPK,QAAAA,MAAM,EAAE,kBADD;AAEP,wBAAgB;AAFT;AADyD,KAA/C,CAArB;AAMA,QAAIC,IAAI,GAAGH,QAAQ,CAACG,IAApB;;AAEA,QAAIA,IAAI,CAACC,IAAT,EAAe;AACbZ,MAAAA,QAAQ,CAAC;AAAEO,QAAAA,IAAI,EAAE,eAAR;AAAyBM,QAAAA,OAAO,EAAEF;AAAlC,OAAD,CAAR;AACAG,MAAAA,YAAY,CAACC,OAAb,CAAqB,aAArB,EAAoCC,IAAI,CAACC,SAAL,CAAeN,IAAf,CAApC;AACA,aAAOA,IAAP;AACD;;AAEDX,IAAAA,QAAQ,CAAC;AAAEO,MAAAA,IAAI,EAAE,aAAR;AAAuBW,MAAAA,KAAK,EAAEP,IAAI,CAACQ,MAAL,CAAY,CAAZ;AAA9B,KAAD,CAAR;AACA;AACD,GAlBD,CAkBE,OAAOC,GAAP,EAAY;AACZlB,IAAAA,OAAO,CAACC,GAAR,CAAY,iCAAZ;AACD;AACF,CA9BM;AAgCP,OAAO,MAAMkB,MAAM,GAAIrB,QAAD,IAAc;AAClCA,EAAAA,QAAQ,CAAC;AAAEO,IAAAA,IAAI,EAAE;AAAR,GAAD,CAAR;AACAO,EAAAA,YAAY,CAACQ,UAAb,CAAwB,aAAxB;AACAR,EAAAA,YAAY,CAACQ,UAAb,CAAwB,OAAxB;AACD,CAJM","sourcesContent":["import axios from \"axios\";\r\n\r\nconst ROOT_URL = \"http://localhost:5000/auth\";\r\n\r\nexport const loginUser = async (dispatch, loginPayload) => {\r\n  console.log(loginPayload);\r\n  const requestOptions = {\r\n    headers: {\r\n      \"Access-Control-Allow-Origin\": \"*\",\r\n    },\r\n    body: loginPayload,\r\n  };\r\n\r\n  try {\r\n    dispatch({ type: \"REQUEST_LOGIN\" });\r\n    let response = await axios.post(`${ROOT_URL}/signin`, loginPayload, {\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    });\r\n    let data = response.data;\r\n\r\n    if (data.user) {\r\n      dispatch({ type: \"LOGIN_SUCCESS\", payload: data });\r\n      localStorage.setItem(\"currentUser\", JSON.stringify(data));\r\n      return data;\r\n    }\r\n\r\n    dispatch({ type: \"LOGIN_ERROR\", error: data.errors[0] });\r\n    return;\r\n  } catch (err) {\r\n    console.log(\"Error occurred while logging in\");\r\n  }\r\n};\r\n\r\nexport const logout = (dispatch) => {\r\n  dispatch({ type: \"LOGOUT\" });\r\n  localStorage.removeItem(\"currentUser\");\r\n  localStorage.removeItem(\"token\");\r\n};\r\n"]},"metadata":{},"sourceType":"module"}